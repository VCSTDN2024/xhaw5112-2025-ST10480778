<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Accordion Chatbot</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      background-color: #f0f2f5;
      margin: 0;
    }

    .chatbot-container {
      width: 400px;
      background-color: #ffffff;
      border-radius: 8px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    .chatbot-header {
      background-color: #fbc02d; /* Light yellow theme */
      color: #333;
      padding: 15px;
      text-align: center;
      font-weight: bold;
    }

    .chatbot-messages {
      height: 350px;
      overflow-y: auto;
      padding: 15px;
      border-bottom: 1px solid #eee;
      display: flex;
      flex-direction: column;
    }

    .message {
      margin-bottom: 15px;
      display: flex;
      align-items: flex-start;
    }

    .bot-message {
      background-color: #fffde7; /* pale yellow bubble */
      border-radius: 12px;
      padding: 10px;
      max-width: 80%;
      display: flex;
      flex-direction: column;
      border: 1px solid #fbc02d;
    }

    .bot-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background-color: #fbc02d;
      color: #333;
      display: flex;
      justify-content: center;
      align-items: center;
      margin-right: 10px;
      font-size: 18px;
      font-weight: bold;
    }

    .user-message {
      background-color: #e0f7fa;
      align-self: flex-end;
      padding: 8px 12px;
      border-radius: 15px;
      max-width: 70%;
    }

    /* Accordion styles */
    .accordion {
      background-color: #fff;
      cursor: pointer;
      padding: 10px 12px;
      border: 1px solid #ddd;
      border-radius: 10px;
      text-align: left;
      outline: none;
      width: 100%;
      font-size: 14px;
      margin-top: 5px;
      transition: background-color 0.3s ease;
    }

    .accordion:hover {
      background-color: #fffde7;
    }

    .accordion:after {
      content: '\002B';
      float: right;
      font-weight: bold;
    }

    .accordion.active:after {
      content: '\2212';
    }

    .panel {
      padding: 0 12px;
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease;
      background-color: #fffde7;
      border-left: 2px solid #fbc02d;
      margin-bottom: 5px;
    }

    .chatbot-input {
      display: flex;
      padding: 15px;
      border-top: 1px solid #eee;
    }

    #user-input {
      flex-grow: 1;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 20px;
      margin-right: 10px;
    }

    #send-button {
      background-color: #fbc02d;
      color: #333;
      border: none;
      border-radius: 20px;
      padding: 10px 15px;
      cursor: pointer;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div class="chatbot-container">
    <div class="chatbot-header">
      ðŸŒŸ YellowBot
    </div>
    <div class="chatbot-messages" id="chatbot-messages">
      <!-- Messages will be appended here -->
    </div>
    <div class="chatbot-input">
      <input type="text" id="user-input" placeholder="Type your message...">
      <button id="send-button">Send</button>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const userInput = document.getElementById('user-input');
      const sendButton = document.getElementById('send-button');
      const chatbotMessages = document.getElementById('chatbot-messages');

      function sendMessage() {
        const messageText = userInput.value.trim();
        if (messageText === '') return;

        appendUserMessage(messageText);
        userInput.value = '';

        setTimeout(() => {
          const botResults = getBotResults(messageText);
          appendBotAccordion(botResults);
        }, 500);
      }

      sendButton.addEventListener('click', sendMessage);
      userInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') sendMessage();
      });

      function appendUserMessage(text) {
        const messageElement = document.createElement('div');
        messageElement.classList.add('message');
        messageElement.innerHTML = `<div class="user-message">${text}</div>`;
        chatbotMessages.appendChild(messageElement);
        chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
      }

      function appendBotAccordion(results) {
        const messageElement = document.createElement('div');
        messageElement.classList.add('message');

        // Avatar + text container
        const avatar = document.createElement('div');
        avatar.classList.add('bot-avatar');
        avatar.textContent = "ðŸ¤–";

        const botBubble = document.createElement('div');
        botBubble.classList.add('bot-message');
        botBubble.innerHTML = `<p>Here are some results I found for you:</p>`;

        // Add accordion results
        results.forEach((result, index) => {
          const accordion = document.createElement('button');
          accordion.classList.add('accordion');
          accordion.textContent = `Result ${index + 1}: ${result.title}`;

          const panel = document.createElement('div');
          panel.classList.add('panel');
          panel.innerHTML = `<p>${result.content}</p>`;

          accordion.addEventListener('click', function () {
            this.classList.toggle('active');
            if (panel.style.maxHeight) {
              panel.style.maxHeight = null;
            } else {
              panel.style.maxHeight = panel.scrollHeight + "px";
            }
          });

          botBubble.appendChild(accordion);
          botBubble.appendChild(panel);
        });

        messageElement.appendChild(avatar);
        messageElement.appendChild(botBubble);
        chatbotMessages.appendChild(messageElement);
        chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
      }

      function getBotResults(userMessage) {
        // Dynamic answers based on input
        userMessage = userMessage.toLowerCase();
        if (userMessage.includes("hello") || userMessage.includes("hi")) {
          return [
            { title: "Greeting", content: "Hello there! How can I help you today?" },
            { title: "Small Talk", content: "I'm YellowBot, always happy to chat." },
            { title: "Help", content: "You can ask me about services, support, or general queries." },
            { title: "Fun Fact", content: "Did you know? Yellow is associated with positivity!" },
            { title: "Tip", content: "Type 'bye' if you want to end the chat." }
          ];
        } else if (userMessage.includes("bye") || userMessage.includes("goodbye")) {
          return [
            { title: "Farewell", content: "Goodbye! Have a sunny day ðŸŒž" }
          ];
        } else {
          return [
            { title: "Answer 1", content: "I'm not sure I understand that yet." },
            { title: "Answer 2", content: "Try rephrasing your question." },
            { title: "Answer 3", content: "You can ask me about greetings, help, or ending the chat." },
            { title: "Answer 4", content: "I'm still learning, so I might not know everything." },
            { title: "Answer 5", content: "Want to try saying 'hello'?" }
          ];
        }
      }
    });
  </script>
</body>
</html>
